# AGENTS.md

Context for AI agents working on the NeoHaskell documentation site.

## Project Overview

NeoHaskell documentation website built with Astro Starlight.

- Repository: `neohaskell/website`
- Package manager: pnpm
- Dev: `pnpm run dev` (localhost:4321)
- Build: `pnpm run build`

## Content Structure

- Source language: English — files in `src/content/docs/en/`
- Translations (es, ru, hy, fr, ja) are AUTO-GENERATED by a GitHub Action
- **NEVER manually edit translation directories** (`src/content/docs/es/`, `src/content/docs/ru/`, etc.)
- To update translations, edit the English source; translations update automatically on push to main
- Content format: MDX with Starlight frontmatter (title, description required)

## Sidebar Sections

- Getting Started (`getting-started/`) — Setup and first steps
- Core Concepts (`concepts/`) — Fundamental NeoHaskell ideas
- Guides (`guides/`) — Step-by-step tutorials
- API Reference (`reference/`) — Detailed API docs
- ADRs (`adrs/`) — Architecture Decision Records

## Code Examples

- Code examples should reference real files from the `neohaskell/neohaskell` repository
- When embedding code, include a comment with the source file path and git hash for traceability
- Pattern: `<!-- source: neohaskell/neohaskell/path/to/file.hs@<short-hash> -->`
- This enables hash verification to detect drift when upstream code changes
- If a referenced file changes upstream, the code example may be stale and should be updated

## Design Contributions

- Anyone can contribute design ideas and changes via OpenCode
- Design decisions are recorded in `src/content/docs/en/adrs/`

## Key Rules

1. English is the source of truth — only edit files in `src/content/docs/en/`
2. Never edit auto-generated translation files
3. Always run `pnpm run build` to verify changes before committing
4. Use MDX format for all documentation pages
5. Every page needs `title` and `description` in frontmatter
